<!doctype HTML>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	 <meta name="description" content="" />
      <link rel="stylesheet" href="css/style.css">
      <link rel="stylesheet" href="css/map.css">
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.12.0.min.js"></script>
      <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
      <link href='https://fonts.googleapis.com/css?family=Satisfy' rel='stylesheet' type='text/css'>
          <link rel="apple-touch-icon" sizes="57x57" href="img/icon/apple-icon-57x57.png">
          <link rel="apple-touch-icon" sizes="60x60" href="img/icon/apple-icon-60x60.png">
          <link rel="apple-touch-icon" sizes="72x72" href="img/icon/apple-icon-72x72.png">
          <link rel="apple-touch-icon" sizes="76x76" href="img/icon/apple-icon-76x76.png">
          <link rel="apple-touch-icon" sizes="114x114" href="img/icon/apple-icon-114x114.png">
          <link rel="apple-touch-icon" sizes="120x120" href="img/icon/apple-icon-120x120.png">
          <link rel="apple-touch-icon" sizes="144x144" href="img/icon/apple-icon-144x144.png">
          <link rel="apple-touch-icon" sizes="152x152" href="img/icon/apple-icon-152x152.png">
          <link rel="apple-touch-icon" sizes="180x180" href="img/icon/apple-icon-180x180.png">
          <link rel="icon" type="image/png" sizes="192x192"  href="img/icon/android-icon-192x192.png">
          <link rel="icon" type="image/png" sizes="32x32" href="img/icon/favicon-32x32.png">
          <link rel="icon" type="image/png" sizes="96x96" href="img/icon/favicon-96x96.png">
          <link rel="icon" type="image/png" sizes="16x16" href="img/icon/favicon-16x16.png">
          <link rel="manifest" href="img/icon/manifest.json">
            <meta name="msapplication-TileColor" content="#ffffff">
            <meta name="msapplication-TileImage" content="img/icon/ms-icon-144x144.png">
            <meta name="theme-color" content="#ffffff">
    <title>AllergyAssist12</title>

          <script>
        var map;

        var InfoWindow;

        var request;
        var service;
        var markers = [];

        function initialize() {
            var map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: 41.8339042, lng: -88.0123518},
                zoom: 13
              });

              var input = document.getElementById('pac-input');

              var autocomplete = new google.maps.places.Autocomplete(input);
              autocomplete.bindTo('bounds', map);

              map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

              var infowindow = new google.maps.InfoWindow();
              var marker = new google.maps.Marker({
                map: map
              });
              marker.addListener('click', function() {
                infowindow.open(map, marker);
              });

              autocomplete.addListener('place_changed', function() {
                infowindow.close();
                var place = autocomplete.getPlace();
                if (!place.geometry) {
                  return;
                }

                if (place.geometry.viewport) {
                  map.fitBounds(place.geometry.viewport);
                } else {
                  map.setCenter(place.geometry.location);
                  map.setZoom(17);
                }
            });

                var center ={lat: 41.8339042, lng: -88.0123518};

             request = {
                location : center,
                radius : 2000,
                type : ['restaurant']
            };
            InfoWindow = new google.maps.InfoWindow();

            service = new google.maps.places.PlacesService(map);

            service.nearbySearch(request, callback);

            google.maps.event.addListener(map, 'rightclick', function(event) {
                map.setCenter(event.latLng)
                clearResults(markers)

                var request = {
                    location : event.latLng,
                    radius: 8047,
                    types: ['restaurant']
                };
                service.nearbySearch(request, callback);
            });



                function callback(results, status) {
                    if (status == google.maps.places.PlacesServiceStatus.OK) {
                        for (var i = 0; i <  results.length; i++) {
                            markers.push(createMarker(results[i]));
                        }
                    }
                }

                function createMarker(place) {
                    var placeLoc = place.geometry.location;
                    var marker = new google.maps.Marker({
                        map : map,
                        position : place.geometry.location
                    });
                google.maps.event.addListener(marker, 'click', function() {

                    InfoWindow.setContent(place.name);
                    InfoWindow.open(map, this);
                });
                return marker;

            }

            function clearResults(markers) {
                for (var m in markers) {
                    markers[m].setMap(null)
                    }
                    markers  = []
                    }


    }
        </script>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBcvRcy6eEq2xyehMNn0zxVlwh0C5yileQ
    &libraries=places&signed_in=true&callback=initialize">
        </script>
        <script type="text/javascript">
            google.maps.event.addDomListener(window, 'load', initialize);
        </script>


  </head>

<body>

  <a href="home.html"><p class="nav_logo">AA</p></a>
  <h1 class="nav_title">Allergy Assist</h1>
    <div class="nav_buff"></div>

    <nav class="nav">
      <ul class="nav_list">
        <a class="nav_list_link" href="home.html"><li class="nav_list_item">Home</li></a>
        <a class="nav_list_link" href="about.html"><li class="nav_list_item">About</li></a>
        <a class="nav_list_link" href="contact.html"><li class="nav_list_item">Contact</li></a>
      </ul>
        <a href=""><img class="nav_icon" src="img/google.png" alt="Google"></a>
        <a href=""><img class="nav_icon" src="img/twitter.png" alt="Twitter"></a>
    </nav>

    <div class="nav_buff2"></div>
  <div class="checkbox_div">
      <p class="checkbox_desc">Check All Allergies That Apply</p>
    <div class="checkbox_div2">
      <form class="checkbox_form" accept-charset="UTF-8" autocomplete="off">
        <input type=checkbox class="checkbox" id="dairy" value="0"><span class="checkbox_txt">Dairy</span><br>
        <input type=checkbox class="checkbox" id="eggs" value="0"><span class="checkbox_txt">Eggs</span><br>
        <input type=checkbox class="checkbox" id="peanuts" value="0"><span class="checkbox_txt">Peanuts</span><br>
        <input type=checkbox class="checkbox" id="shellfish" value="0"><span class="checkbox_txt">Shellfish</span><br>
        <input type=checkbox class="checkbox" id="soy" value="0"><span class="checkbox_txt">Soy</span><br>
        <input type=checkbox class="checkbox" id="wheat" value="0"><span class="checkbox_txt">Wheat</span><br>
        <span class="checkbox_div3"><input type="button" class="checkbox_button" value="Submit" onclick="menuDisplayItems()"></span>
      </form>
    </div>
  </div>

  <div class="menu">
    <h2 class="menu_title">Meal Options</h2>
      <div class="menu_div" id="menuDisplay">
        <script type="text/javascript" src="js/filter.js"></script>
      </div>
  </div>

  <input id="pac-input" class="controls" type="text"
            placeholder="Enter a location">
        <div id="map"></div>

  <footer>
    <a href="home.html"><img src="img/logo.png" alt="Logo" class="footer_logo"></a>
      <p class="footer_title">Allergy Assist</p>
        <ul class="footer_list">
          <li class="footer_item"><a class="footer_link" href="home.html">Home</a></li>
          <li class="footer_item"><a class="footer_link" href="about.html">About</a></li>
          <li class="footer_item"><a class="footer_link" href="contact.html">Contact</a></li>
        </ul>
          <a href=""><img class="footer_icon" src="img/google.png" alt="Google"></a>
          <a href=""><img class="footer_icon" src="img/twitter.png" alt="Twitter"></a>
  </footer>

</body>
</html>
